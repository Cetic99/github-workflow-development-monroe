<Window x:Class="NFC_card_tool.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
   Title="NFC Card Tool" 
   Height="850" 
        Width="1200"
      WindowStartupLocation="CenterScreen"
  Background="{StaticResource BackgroundColor}">
 
    <Window.Resources>
 <DropShadowEffect x:Key="CardShadow" 
        BlurRadius="20" 
     ShadowDepth="2" 
 Opacity="0.2" 
   Color="#000000"/>
     
      <Style x:Key="ModernComboBox" TargetType="ComboBox">
  <Setter Property="FontSize" Value="14"/>
         <Setter Property="Padding" Value="12,8"/>
         <Setter Property="Background" Value="White"/>
   <Setter Property="BorderBrush" Value="#D1D1D1"/>
 <Setter Property="BorderThickness" Value="1"/>
     </Style>
        
 <Style x:Key="StatusIndicator" TargetType="Ellipse">
    <Setter Property="Width" Value="12"/>
   <Setter Property="Height" Value="12"/>
      <Setter Property="Fill" Value="#A4A4A4"/>
      </Style>
    </Window.Resources>
    
    <Grid>
  <Grid.ColumnDefinitions>
    <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        
        <!-- Main Content Area -->
        <Grid Grid.Column="0">
          <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
         <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
    
          <!-- Header -->
       <Border Grid.Row="0" 
         Background="{StaticResource CardBackground}" 
    Effect="{StaticResource CardShadow}"
                 Padding="30,20">
 <Grid>
      <Grid.ColumnDefinitions>
               <ColumnDefinition Width="Auto"/>
             <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
               
              <!-- Company Logo -->
     <Border Grid.Column="0" 
                   Width="80" 
    Height="80" 
     Background="White"
      CornerRadius="8"
      Margin="0,0,20,0"
 VerticalAlignment="Center"
           Padding="5">
     <Image Source="/Assets/monroe_logo.jpg" 
            Stretch="Uniform"
        RenderOptions.BitmapScalingMode="HighQuality"/>
     </Border>
                    
             <!-- Title Text -->
          <StackPanel Grid.Column="1" VerticalAlignment="Center">
              <TextBlock Text="NFC Card Tool" 
         FontSize="26" 
      FontWeight="SemiBold" 
           Foreground="{StaticResource TextPrimary}"/>
      <TextBlock Text="Read and Write NFC Cards" 
  FontSize="13" 
    Foreground="{StaticResource TextSecondary}"
        Margin="0,4,0,0"/>
            </StackPanel>
     
 <!-- Debug Toggle Button -->
           <Button x:Name="DebugButton"
                     Grid.Column="1"
         Content="ðŸ› Debug"
              HorizontalAlignment="Right"
  VerticalAlignment="Top"
                Style="{StaticResource ModernButton}"
        FontSize="12"
   FontWeight="SemiBold"
     Padding="12,6"
                  Click="DebugButton_Click"
        ToolTip="Toggle debug console"/>
     </Grid>
      </Border>
       
 <!-- Content -->
        <Grid Grid.Row="1" Margin="30">
  <Border Background="{StaticResource CardBackground}"
 CornerRadius="8"
       Effect="{StaticResource CardShadow}"
     Padding="40">
<StackPanel>
      
          <!-- Reader Selection Section -->
      <Border Background="{StaticResource SectionBackground}" 
    CornerRadius="8"
     Padding="20"
    Margin="0,0,0,20"
           BorderBrush="{StaticResource BorderColor}"
    BorderThickness="1">
      <Grid>
  <Grid.RowDefinitions>
 <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
  </Grid.RowDefinitions>
   <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
       <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
         
      <!-- Reader Selection -->
      <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2">
     <TextBlock Text="NFC Reader" 
          FontSize="16" 
      FontWeight="SemiBold"
                   Foreground="{StaticResource TextPrimary}"
       Margin="0,0,0,10"/>
           
 <Grid>
    <Grid.ColumnDefinitions>
               <ColumnDefinition Width="*"/>
  <ColumnDefinition Width="Auto"/>
           </Grid.ColumnDefinitions>
              
        <ComboBox x:Name="ReaderComboBox"
      Grid.Column="0"
    Style="{StaticResource ModernComboBox}"
                 SelectionChanged="ReaderComboBox_SelectionChanged"
             Margin="0,0,10,0"/>
    
        <Button x:Name="ConnectButton"
           Grid.Column="1"
      Content="Connect"
              Style="{StaticResource ModernButton}"
Padding="16,8"
             FontSize="14"
           Click="ConnectButton_Click"
          IsEnabled="False"/>
      </Grid>
           </StackPanel>
     
        <!-- Reader Info -->
            <StackPanel Grid.Row="1" Grid.Column="0" 
       Margin="0,15,0,0"
 Orientation="Horizontal">
      <TextBlock Text="Type: " 
  FontSize="13"
             Foreground="{StaticResource TextSecondary}"/>
           <TextBlock x:Name="ReaderTypeText"
       Text="Not selected"
         FontSize="13"
         FontWeight="SemiBold"
      Foreground="{StaticResource TextPrimary}"/>
  </StackPanel>
       
          <!-- Connection Status -->
                   <StackPanel Grid.Row="1" Grid.Column="1"
           Margin="0,15,0,0"
    Orientation="Horizontal"
    HorizontalAlignment="Right">
   <Ellipse x:Name="ConnectionIndicator"
  Style="{StaticResource StatusIndicator}"
       Margin="0,0,8,0"/>
           <TextBlock x:Name="ConnectionStatusText"
          Text="Not connected"
       FontSize="13"
  Foreground="{StaticResource TextSecondary}"/>
                </StackPanel>
      </Grid>
   </Border>
  
     <!-- Card Status Section -->
   <Border Background="{StaticResource SectionBackground}"
        CornerRadius="8"
       Padding="20"
Margin="0,0,0,20"
               BorderBrush="{StaticResource BorderColor}"
               BorderThickness="1">
        <StackPanel>
      <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
         <Ellipse x:Name="CardIndicator"
         Style="{StaticResource StatusIndicator}"
         Margin="0,0,10,0"/>
       <TextBlock x:Name="CardStatusText"
             Text="No card"
                FontSize="14"
           Foreground="{StaticResource TextSecondary}"/>
   </StackPanel>
           
  <TextBlock x:Name="CardUidText"
    Text=""
              FontSize="12"
              FontFamily="Consolas"
              Foreground="{StaticResource TextPrimary}"
            Visibility="Collapsed"/>
                </StackPanel>
          </Border>
  
       <!-- Main Action Area -->
             <StackPanel VerticalAlignment="Center" 
      HorizontalAlignment="Center"
          Margin="0,20,0,0">
            
    <!-- NFC Icon -->
       <Border Width="100" 
         Height="100" 
      Background="{StaticResource PrimaryLight}"
     CornerRadius="50"
Margin="0,0,0,40"
        Effect="{StaticResource CardShadow}">
 <Viewbox Width="50" Height="50">
           <Canvas Width="24" Height="24">
   <Path Fill="White" 
              Data="M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M17,12C17,14.76 14.76,17 12,17C9.24,17 7,14.76 7,12C7,9.24 9.24,7 12,7C14.76,7 17,9.24 17,12Z"/>
         </Canvas>
        </Viewbox>
       </Border>
          
   <!-- Status Text -->
         <TextBlock x:Name="StatusText"
   Text="Select a reader to begin"
         FontSize="18"
         Foreground="{StaticResource TextPrimary}"
     HorizontalAlignment="Center"
      Margin="0,0,0,30"/>
        
  <!-- Action Buttons -->
   <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
               <Button x:Name="ReadButton"
     Content="Read Card"
 Style="{StaticResource ModernButton}"
      Click="ReadButton_Click"
      Width="140"
             Height="50"
         Margin="0,0,10,0"
         IsEnabled="False"/>
 
                <Button x:Name="WriteButton"
        Content="Write Card"
           Style="{StaticResource ModernButton}"
             Click="WriteButton_Click"
      Width="140"
          Height="50"
    IsEnabled="False"/>
             </StackPanel>
          </StackPanel>
           </StackPanel>
            </Border>
      </Grid>
        </Grid>
        
     <!-- Debug Panel (Side Panel) -->
     <Border x:Name="DebugPanel"
   Grid.Column="1"
  Width="400"
   Background="{StaticResource BackgroundColor}"
           BorderBrush="{StaticResource BorderColor}"
      BorderThickness="2,0,0,0"
    Visibility="Collapsed">
  <Grid>
    <Grid.RowDefinitions>
     <RowDefinition Height="Auto"/>
       <RowDefinition Height="*"/>
 <RowDefinition Height="Auto"/>
</Grid.RowDefinitions>
         
      <!-- Debug Header -->
     <Border Grid.Row="0" 
Background="{StaticResource CardBackground}" 
           Padding="15,10"
               Effect="{StaticResource CardShadow}">
       <Grid>
  <TextBlock Text="ðŸ› Debug Console" 
FontSize="14" 
   FontWeight="SemiBold"
 Foreground="{StaticResource TextPrimary}"/>
  
  <Button Content="âœ•"
       HorizontalAlignment="Right"
    Click="CloseDebugButton_Click"
            Width="25"
  Height="25"
          Background="Transparent"
      Foreground="{StaticResource TextSecondary}"
    BorderThickness="0"
 FontSize="16"
   Cursor="Hand"
       ToolTip="Close debug panel"/>
     </Grid>
  </Border>
   
    <!-- Log Display -->
 <Border Grid.Row="1" 
         Background="{StaticResource CardBackground}"
         CornerRadius="8"
      Margin="10"
    Effect="{StaticResource CardShadow}"
         Padding="10">
     <ScrollViewer x:Name="LogScrollViewer"
    VerticalScrollBarVisibility="Auto"
  Background="White">
   <TextBox x:Name="LogTextBox"
       IsReadOnly="True"
 TextWrapping="Wrap"
         FontFamily="Consolas"
       FontSize="11"
      Foreground="{StaticResource TextPrimary}"
 Background="White"
       BorderThickness="0"
     Padding="10"
      VerticalAlignment="Stretch"/>
      </ScrollViewer>
   </Border>
     
         <!-- Debug Footer -->
        <Border Grid.Row="2" 
                Background="{StaticResource SectionBackground}" 
       Padding="15,10"
         BorderBrush="{StaticResource BorderColor}"
                BorderThickness="0,1,0,0">
   <Grid>
     <StackPanel Orientation="Horizontal">
        <CheckBox x:Name="AutoScrollCheckBox"
           Content="Auto-scroll"
        IsChecked="True"
               Foreground="{StaticResource TextPrimary}"
 VerticalAlignment="Center"
    Margin="0,0,15,0"/>
          
       <TextBlock x:Name="LogCountText"
          Text="0 messages"
     Foreground="{StaticResource TextSecondary}"
       VerticalAlignment="Center"/>
       </StackPanel>
 
      <Button Content="Clear"
      HorizontalAlignment="Right"
           Click="ClearDebugButton_Click"
Style="{StaticResource ModernButton}"
       Padding="10,5"
       FontSize="11"
      Cursor="Hand"/>
  </Grid>
        </Border>
         </Grid>
     </Border>
    </Grid>
</Window>
